(function(t){function e(e){for(var i,o,a=e[0],c=e[1],l=e[2],d=0,f=[];d<a.length;d++)o=a[d],s[o]&&f.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/ToDoList/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0166":function(t,e,n){},1821:function(t,e,n){"use strict";var i=n("7027"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[t._m(0),t._m(1),t._m(2),n("form",{attrs:{id:"task-form"},on:{submit:function(e){return e.preventDefault(),t.merge(e)}}},[n("div",{staticClass:"container"},[n("div",{staticClass:"input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.current.title,expression:"current.title"}],attrs:{type:"text"},domProps:{value:t.current.title},on:{input:function(e){e.target.composing||t.$set(t.current,"title",e.target.value)}}}),n("div",{staticClass:"control"},[n("i",{staticClass:"iconfont",on:{click:t.merge}},[t._v("")]),n("i",{staticClass:"iconfont",on:{click:function(e){t.desc_show=!t.desc_show}}},[t._v("")])])]),t.desc_show?n("div",{staticClass:"desc"},[n("span",{staticClass:"desc_title"},[t._v("详情描述")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.current.desc,expression:"current.desc"}],domProps:{value:t.current.desc},on:{input:function(e){e.target.composing||t.$set(t.current,"desc",e.target.value)}}}),n("span",{staticClass:"desc_title"},[t._v("定时提醒")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.current.time,expression:"current.time"}],attrs:{type:"datetime-local"},domProps:{value:t.current.time},on:{input:function(e){e.target.composing||t.$set(t.current,"time",e.target.value)}}})]):t._e()])]),n("div",{staticClass:"task-list"},[n("div",{staticClass:"container"},[n("span",{staticClass:"task-title"},[t._v("待办事项")]),n("transition-group",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},t._l(t.list,function(e){return e.completed?t._e():n("task",{key:e.id,attrs:{todo:e}})}),1)],1)]),n("div",{staticClass:"task-list"},[n("div",{staticClass:"container"},[n("span",{staticClass:"task-title"},[t._v("完成事项")]),n("transition-group",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},t._l(t.list,function(e){return e.completed?n("div",{key:e.id,staticClass:"item completed"},[n("i",{staticClass:"uncomplete_icon iconfont",on:{click:function(n){return t.toggle_complete(e.id)}}},[t._v("")]),t._v("\n          "+t._s(e.title)+"\n          "),n("div",{staticClass:"btn-r"},[n("span",{on:{click:function(n){return t.set_current(e)}}},[n("i",{staticClass:"iconfont"},[t._v("")])]),n("span",{on:{click:function(n){return t.remove(e.id)}}},[n("i",{staticClass:"iconfont"},[t._v("")])])])]):t._e()}),0)],1)])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("audio",{attrs:{controls:"",id:"alert_sound"}},[i("source",{attrs:{src:n("a4da")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("h1",[t._v("To Do List")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("h3",[t._v("\n      输入内容+\n      "),n("i",{staticClass:"iconfont icon-huiche"},[t._v("")])])])}],o=(n("ac6a"),n("20d6"),{set:function(t,e){e=JSON.stringify(e),localStorage.setItem(t,e)},get:function(t){var e=localStorage.getItem(t);if(e)return JSON.parse(e)}}),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item "},[n("i",{staticClass:"complete_icon iconfont",on:{click:function(e){return t.action("toggle_complete",t.todo.id)}}},[t._v("")]),t._v("\n  "+t._s(t.todo.title)+"\n\n       "),n("div",{staticClass:"btn-r"},[n("span",{on:{click:function(e){return t.action("set_current_show_detail",t.todo)}}},[n("i",{staticClass:"iconfont"},[t._v("")])]),n("span",{on:{click:function(e){return t.action("remove",t.todo.id,e)}}},[n("i",{staticClass:"iconfont"},[t._v("")])]),n("span",{on:{click:function(e){return t.action("toggle_detail",t.todo.id)}}},[n("i",{staticClass:"iconfont"},[t._v("")])])]),t.todo.show_desc?n("div",{staticClass:"detail"},[t._v(t._s(t.todo.desc||"暂无详情")+" ")]):t._e()])},c=[],l=new i["a"],u={props:["todo"],methods:{action:function(t,e,n){l.$emit(t,e)}}},d=u,f=n("2877"),_=Object(f["a"])(d,a,c,!1,null,null,null),v=_.exports,p=n("5118");function m(t){return Object.assign({},t)}var h={name:"app",data:function(){return{list:[],_list:[{id:0,title:"示例",desc:"可输入标题、描述，还能设置定时提醒哦",show_desc:!0}],current:{},last_id:0,desc_show:!1}},mounted:function(){var t=this,e=o.get("list");if(!e||0===e.length){var n=[{id:0,title:"示例",desc:"可输入标题、描述，还能设置定时提醒哦",show_desc:!0}];o.set("list",n)}this.list=o.get("list"),this.last_id=o.get("last_id")||this.last_id,l.$on("remove",function(e){t.remove(e)}),l.$on("toggle_complete",function(e){t.toggle_complete(e)}),l.$on("set_current_show_detail",function(e){t.set_current_show_detail(e)}),l.$on("toggle_detail",function(e){t.toggle_detail(e)}),Object(p["setInterval"])(function(){t.check_alert()},1e3)},watch:{list:{deep:!0,handler:function(t){t?o.set("list",t):o.set("list",{})}}},components:{task:v},methods:{merge:function(){var t=this.current.id;if(t||0==t){var e=this.list.findIndex(function(e){return e.id==t});i["a"].set(this.list,e,m(this.current))}else{var n=this.current.title;if(!n&&0!==n)return;var s=m(this.current);s.id=++this.last_id,o.set("last_id",this.last_id),s.completed=!1,this.list.push(s)}this.reset_current()},remove:function(t){this.list.splice(this.list.findIndex(function(e){return e.id===t}),1)},toggle_complete:function(t){var e=this.find_index(t);i["a"].set(this.list[e],"completed",!this.list[e].completed)},set_current_show_detail:function(t){this.set_current(t),this.desc_show=!0},set_current:function(t){this.current=m(t)},reset_current:function(){this.set_current({})},find_index:function(t){return this.list.findIndex(function(e){return e.id==t})},toggle_detail:function(t){var e=this.find_index(t);i["a"].set(this.list[e],"show_desc",!this.list[e].show_desc)},check_alert:function(){var t=this;this.list.forEach(function(e,n){if(e.time&&!e.alert_comfirmed){var s=new Date(e.time).getTime(),r=(new Date).getTime();if(s<=r){var o=document.getElementById("alert_sound");o.play(),window.confirm(e.title)&&i["a"].set(t.list[n],"alert_comfirmed",!0)}}})}}},g=h,w=(n("1821"),Object(f["a"])(g,s,r,!1,null,null,null)),C=w.exports;n("0166"),n("77ed");i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(C)}}).$mount("#app")},7027:function(t,e,n){},a4da:function(t,e,n){t.exports=n.p+"media/alert.6eed5139.mp3"}});
//# sourceMappingURL=app.ef78bb30.js.map